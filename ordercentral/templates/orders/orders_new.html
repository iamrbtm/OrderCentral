<!--
=========================================================
* Template for Order Central - Order_new.html
=========================================================
Date:
Author:
Purpose:

Available Blocks
* title
* page_title
* stylesheets
* notifications
* main_content
* javascripts
=========================================================
-->
{% extends "base/base.html" %}

{% block title %}
    New Order
{% endblock title %}

{% block page_title %}
    New Order
{% endblock page_title %}

{% block stylesheets %}
{% endblock stylesheets %}

{% block notifications %}
{% endblock notifications %}

{% block javascripts %}
{% endblock javascripts %}

{% block main_content %}
    <div class="container">
        <div class="row row-cols-1">
            <div class="col order-xl-0 order-md-2">
                <div id="customer" class="card order-3">
                    <div class="card-header">
                        <h5>Customer Information</h5>
                    </div>
                    <div class="card-body">
                        <form class="form" method="post">
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="form-floating mb-1">
                                        <input class="form-control" id="fname" name="fname" type="text"
                                               placeholder="First Name" value="{{ record.person.fname }}"
                                        />
                                        <label for="firstName">First Name</label>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-floating mb-2">
                                        <input class="form-control" id="lname" name="lname" type="text"
                                               placeholder="Last Name" value="{{ record.person.lname }}"
                                        />
                                        <label for="lastName">Last Name</label>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-5">
                                    <div class="form-floating mb-2">
                                        <input class="form-control" id="mailing_address" name="mailing_address"
                                               type="text"
                                               placeholder="Address" value="{{ record.person.mailing_address }}"
                                        />
                                        <label for="address">Address</label>
                                    </div>
                                </div>
                                <div class="col-lg-3">
                                    <div class="form-floating mb-2">
                                        <input class="form-control" id="mailing_city" name="mailing_city" type="text"
                                               placeholder="City" value="{{ record.person.mailing_city }}"
                                        />
                                        <label for="city">City</label>
                                    </div>
                                </div>
                                <div class="col-lg-2">
                                    <div class="form-floating mb-2">
                                        <input class="form-control" id="mailing_state" name="mailing_state" type="text"
                                               placeholder="State" value="{{ record.person.mailing_state }}"
                                        />
                                        <label for="state">State</label>
                                    </div>
                                </div>
                                <div class="col-lg-2">
                                    <div class="form-floating mb-2">
                                        <input class="form-control" id="mailing_zipcode" name="mailing_zipcode"
                                               type="text"
                                               placeholder="Zipcode" value="{{ record.person.mailing_zipcode }}"
                                        />
                                        <label for="zipcode">Zipcode</label>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="form-floating mb-2">
                                        <input class="form-control" id="phone" name="phone" type="text"
                                               placeholder="Phone" value="{{ record.person.phone }}"
                                        />
                                        <label for="phone">Phone</label>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-floating mb-2">
                                        <input class="form-control" id="email" name="email" type="email"
                                               placeholder="Email Address" data-sb-validations="email"
                                               value="{{ record.person.email }}"/>
                                        <label for="emailAddress">Email Address</label>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <input type="submit" class="btn btn-primary">
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <div class="col order-xl-1 order-md-0">
                <div id="additem" class="card order-1">
                    <div class="card-header">
                        <h5>Add Item</h5>
                    </div>
                    <div class="card-body p-3">
                        <div class="row row-cols-auto">
                            <div class="col">
                                <a href="{{ url_for('ornament1.ornament1_order_new', id=record.id) }}">
                                    <button class="btn btn-outline-dark">Ornament 1</button>
                                </a>
                            </div>
                            <div class="col">
                                <a href="{{ url_for('seedstart.seedstart_order_new', id=record.id) }}">
                                    <button class="btn btn-outline-dark">Seed Starters</button>
                                </a>
                            </div>
                            <div class="col">
                                <button class="btn btn-outline-dark">Plant Tags</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col">
                <div id="items" class="card order-2">
                    <div class="card-header">
                        <h5>Items</h5>
                    </div>
                    <div class="card-body">
                        <table class="table table-hover table-sm table-borderless">
                            <thead>
                            <th>Product</th>
                            <th class="text-end">Price</th>
                            </thead>
                            <tbody>
                            {% for item in items %}
                                <tr>
                                    {% set seedlist = [3,4,5,2] %}
                                    <td>
                                        {% if item.productfk == 1 %} <!-- Product: Ornament 1 -->
                                            <b>{{ item.products.display_name.title() }}</b><br>
                                            <span class="small ">
                                                {{ item.json_data['name'] }}<br>
                                                {{ item.json_data['background'] }} / {{ item.json_data['foreground'] }}
                                            </span>
                                        {% elif item.productfk in seedlist %} <!-- Product: Seed Starter -->
                                            <b>{{ item.products.display_name.title() }}</b><br>
                                            <span class="small ">
                                                Basin: {{ item.json_data['basin'] }}<br>
                                                Pod: {{ item.json_data['pod'] }}<br>
                                                Cover: {{ item.json_data['cover'] }}
                                            </span>
                                        {% endif %}
                                    </td>
                                    <td class="text-end">{{ "$%.2f"|format(item.saleprice) }}</td>
                                </tr>
                            {% endfor %}
                            </tbody>
                            <tfoot>
                            <tr>
                                <td class="text-end">Total</td>
                                <td class="text-end">{{ "$%.2f"|format(record.total) }}</td>
                            </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
{% endblock main_content %}
